### 简介

Linux系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限，即对相同的文件或目录可执行的操作是不一样的。比如：有的文件或目录你可以删除或修改，而有的文件或目录你却只能查看。

### 文件基本属性

我们使用`ll`或`ls -l`命令来显示一个文件的属性及文件所属的用户和组信息，如：

    root@double-virtual-machine:/var/www/html# ll
    total 20
    drwxr-xr-x 2 root root  4096 Jul 22 11:39 ./
    drwxr-xr-x 3 root root  4096 Jul 22 11:39 ../
    -rw-r--r-- 1 root root 11510 Jul 22 11:39 index.html

第一个字符说明：

* `d`：表示目录
* `-`：表示文件
* `l`：表示链接文档
* `b`：表示为装置文件里面的可供储存的接口设备(可随机存取装置)
* `c`：表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)

其它字符说明：

* 以三个为一组，且均为`rwx`的三个参数的组合。
* `r`代表可读(read),`w`代表可写(write),`x`代表可执行(execute)。
* 三个权限的位置不会改变，如果没有权限，就会出现减号`-`。

![文件属性](http://oo5edb6t9.bkt.clouddn.com/14918123488926.png)

### 更改文件属性

**更改文件属主**

    chown [-R] 属主名 文件名

实例：

    chown -R root install.log

**更改文件属组**

    chgrp [-R] 属组名 文件名

实例：

    chgrp -R double install.log

**同时更改文件属主和属组**

    chown [-R] 属主名:属组名 文件名

实例：

    chown -R root:root install.log

**更改文件9个属性**

Linux文件属性有两种设置方法，一种是数字，一种是符号。基本权限有九个，分别是`owner`、`group`、`others`三种身份各有自己的`read`、`write`、`execute`权限。如果用数字代码各个权限，对应如下：

* `r`：4
* `w`：2
* `x`：1

举例：

    权限字符：-rwxrwx---
    对应数字：770

说明：

* owner  = rwx = 4+2+1 = 7
* group  = rwx = 4+2+1 = 7
* others = --- = 0+0+0 = 0

实例：

    chmod -R 754 install.log

说明：`install.log`文件，属主有`读、写、执行`权限，属组有`读、执行`权限，其它人只有`读`的权限。

### 扩展

**默认权限**

用户在新建文件或目录的时候，即使不写权限，系统也会给它分配默认的权限。那么默认权限从哪里来的呢？

查看默认权限

    umask 回车
    0022

说明：第一个`0`供特殊权限使用，后面的是指去掉那个权限。如上面的`022`指属主不去掉任何权限，属组和其它人去掉`写`的权限。当该用户新建文件或目录时会出现在以下结果：

* 文件：-rw-r--r--
* 目录：drwxr-xr-x

修改默认权限

    umask 002 回车

***

### 目录管理

**ls(列出目录)**

    ls [选项] 目录名称

参数说明：

* 选项
    * `-a`：全部文件，连同隐藏档一起列出来
    * `-d`：仅列出目录本身，而不列出目录内的文件数据
    * `-l`：长数据串列出，包含文件属性与权限等数据

**cd(切换目录)**

    cd 相对路径或绝对路径

参数说明：

* 相对路径或绝对路径
    * `../`：相对路径，相对上一级
    * `/`：相对根路径

**pwd(显示目前的目录)**

    pwd [选项]

参数说明：

* 选项
    * `-P`:显示真实路径，而非连结(link)路径。注意是大写`p`哦

**mkdir(创建一个新的目录)**

    mkdir [选项] 目录名称

参数说明：

* 选项
    * `-m`：配置文件的权限
    * `-p`：递加创建所需要的目录

**rmdir(删除空的目录)**

    rm [选项] 目录名称

参数说明

* 选项
    * `-p`：删除所有的空目录。注意是小写`p`、空目录哦

**cp(复制文件或目录)**

    cp [选项] 来源档1 来源档2…… 目标档

参数说明

* 选项
    * `-a`：相当于 -pdr 的意思，至于 pdr 请参考下列说明
    * `-d`：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身
    * `-f`：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次
    * `-i`：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行
    * `-l`：进行硬式连结(hard link)的连结档创建，而非复制文件本身；
    * `-p`：连同文件的属性一起复制过去，而非使用默认属性
    * `-r`：递回持续复制，用於目录的复制行为
    * `-s`：复制成为符号连结档 (symbolic link)，亦即『捷径』文件

**rm(移除文件或目录)**

    rm [选项] 文件或目录

参数说明

* 选项
    * `-f`：强制执行，忽略不存在的文件，不会出现警告信息
    * `-i`：互动模式，每次删除前会询问
    * `-r`：递归删除

